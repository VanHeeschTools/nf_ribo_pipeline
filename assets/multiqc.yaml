fn_clean_exts:
  - '_merged_R1_001'
  - '_trimmed.fq.gz'
  - '.fq'
  - '.fastq'
  - '.gz'
  - '_stats'
  - '.Log.final.out'
  - '.local'
  - '_500k' # For testing, remove later
  - '_filtered'

table_columns_visible:
  cutadapt:
    percent_trimmed: False

decimalPoint_format: '.'
thousandsSep_format: ','

title: 'Nextflow Ribo_Seq pipeline report'
subtitle: 'The following shows a summary of the output of the Ribo_Seq pipeline'
intro_text: 'MultiQC reports summarise analysis results.'
report_comment: 'The pipeline is still in development, sections might change in newer versions.'

report_section_order:
  cutadapt:
      order: 140
  removed_reads:
      order: 130
  contaminant_counts:
      order: 120
  fastqc:
      order: 110
  size_distribution:
      order: 100
  star:
      order: 90
  inframe_reads_all:
      order: 80
  riboseq_counts:
      order: 70
  periodicity_plot:
      order: 60
  metagene_plot:
      order: 50
  orfcaller_categories:
      order: 40
  merged_categories:
      order: 30
  caller_counts:
      order: 20
  canonical_expression:
      order: 10

        
custom_data:
  contaminant_counts:
    id: 'contaminant_counts'
    file_format: txt
    section_name: 'Contaminant Mapping'
    description: 'Known contaminants in the samples. Obtained by running Bowtie2 against a contaminant dataset.'
    plot_type: 'bargraph'
    categories:
      Passed:
        name: 'Passed Reads'
        color: '#003C67'
      tRNA:
        name: 'tRNA Reads'
        color: '#0073C2'
      mtDNA:
        name: 'mtDNA Reads'
        color: '#EFC000'
      snoRNA:
        name: 'snoRNA Reads'
        color: '#868686'
      rRNA:
        name: 'rRNA Reads'
        color: '#CD534C'
      snRNA:
        name: 'snRNA Reads'
        color: '#7AA6DC'
    pconfig:
      id: 'contaminant_bargraph'
      title: 'Contaminant Reads by Type'
      ylab: 'Read count'
      bar_mode: 'grouped'

  riboseq_counts:
    id: 'riboseq_counts'
    file_format: txt
    section_name: 'RiboseQC type counts'
    description: 'Count of reads on different regions'
    plot_type: 'bargraph'
    categories:
      cds:
        name: 'cds'
        color: '#FFD32C'
      fiveutrs:
        name: 'fiveutrs'
        color:  '#305CDE' 
      threeutrs:
        name: 'threeutrs'
        color: '#BBBBBB' 
      ncIsof:
        name: 'ncIsof'
        color: '#94AEE3'
      ncRNAs:
        name: 'ncRNAs'
        color: '#EE6677'
      introns:
        name: 'introns'
        color: '#4477AA'
      intergenic:
        name: 'intergenic'
        color: '#B5A642'
    pconfig:
      id: 'riboseqc_counts'
      title: 'Ribo_Seq Reads by Type'
      ylab: 'Read count'
      bar_mode: 'grouped'

  periodicity_plot:
    id: 'periodicity_plot'
    file_format: png
    section_name: 'RiboseQC periodicity'
    description: 'Periodicity percentage of reads of 29 nt, only including reads that map on the first 150 nt of CDS'

  metagene_plot:
    id: 'metagene_plot'
    file_format: png
    section_name: 'RiboseQC metagene'
    description: 'Metagene profile plot of the first 150 nt of CDS using reads of 29 nt'

  orfcaller_categories:
    id: 'orfcaller_categories'
    file_format: txt
    section_name: 'ORFcaller Category Counts'
    description: 'Counts of ORFs by ORF category for each ORF caller. Each row is an ORF caller, each column is an ORF category, values are the number of ORFs in that category detected by the caller.'
    plot_type: 'bargraph'
    pconfig:
      id: 'orfcaller_categories'
      title: 'ORF Categories per ORFcaller'
      bar_mode: 'grouped'

  merged_categories:
    id: 'merged_categories'
    file_format: txt
    section_name: 'Merged ORF Type counts'
    description: 'Shows the combined ORF set created by counting ORFs by ORF category, after merging results from all ORF callers and applying duplicate filtering. This does not include any ORF expression information'
    plot_type: 'bargraph'
    pconfig:
      id: 'merged_categories'
      title: 'Merged ORF Categories'
      bar_mode: 'grouped'
  
  caller_counts:
    id: 'caller_counts'
    file_format: txt
    section_name: 'Caller Count Distribution'
    description: 'Counts of ORFs found in N different ORF callers. Shows the overlap between callers, where higher numbers indicate ORFs called by multiple methods. This does not include any ORF expression information'
    plot_type: 'bargraph'
    pconfig:
      id: 'caller_counts'
      title: 'ORF Caller Overlap'
      bar_mode: 'grouped'

  removed_reads:
    id: 'removed_reads'
    section_name: 'Trim Galore'
    plot_type: 'table'
    description: 'Number of reads discarded by Trim Galore because they are shorter than 25bp after running Cutadapt.'
    format: '{:,}'  
    pconfig:
      Reads_Removed_Due_to_Length:
        title: 'Reads Removed'
        format: '{:,}'  

  inframe_reads_all:
    id: 'inframe_reads_all'
    file_format: txt
    section_name: 'RiboseQC in-frame reads percentages'
    description: 'RiboseQC in-frame percentages for read lengths 28-31'
    plot_type: 'table'
    categories:
    pconfig:
      id: 'inframe_29nt'
      title: 'In-frame reads percentages'
      format: '{:,}'  

  size_distribution:
    id: 'size_distribution'
    section_name: 'Size Distribution'
    plot_type: 'linegraph'
    description: 'The size distribution of reads bewteen 20-40 bp after filtering'
    format: '{:,}'  
    pconfig:
      Reads_Removed_Due_to_Length:
        title: 'Size distribution 20-40 bp'
        style: 'lines+markers'
        format: '{:,}'  
  
  canonical_expression:
    id: 'canonical_expression'
    file_format: txt
    section_name: 'Canonical ORF counts'
    description: 'The amount of Canonical and Non-canonical ORFs in every sample. Only ORFS with a PPM >=1 in the given sample are shown '
    plot_type: 'bargraph'
    pconfig:
      id: 'canonical_expression'
      title: 'Canonical vs Non-canonical ORF counts'
      bar_mode: 'grouped'
  
  total_reads:
    id: 'total_reads'
    file_format: txt
    plot_type: 'generalstats'
    section_name: 'Total amount of reads'
    description: 'Number of reads without any filtering.'
    headers:
      - Total:
          title: 'Total reads'
          description: 'Number of reads without any filtering.'
          format: '{:,.0f}'
          scale: 'Greens'

  reads_after_filtering:
    id: 'reads_after_filtering'
    file_format: txt
    plot_type: 'generalstats'
    description: 'Number of reads remaining after filtering contaminants.'
    headers:
      - Passed:
          title: 'Reads passing filters'
          description: 'Reads that pass Trim Galore and the Contaminant filter steps'
          format: '{:,}'
          scale: 'Greens'

sp:
  contaminant_counts:
    fn: 'contaminant_*_mqc.txt'
  reads_after_filtering:
    fn: 'passed_contaminant_*_mqc.txt'
  total_reads:
    fn: 'total_reads_*_mqc.txt'
  removed_reads:
    fn: 'removed_reads_*_mqc.txt'
  riboseq_counts:
    fn: 'riboseqc_read_categories_counts_mqc.txt'
  periodicity_plot:
    fn: 'Periodicity_bar_combined_mqc.png'
  metagene_plot:
    fn: 'Metagene_profile_combined_mqc.png'
  inframe_reads_all:
    fn: 'inframe_percentages_mqc.txt'
  orfcaller_categories:
    fn: 'orfcaller_orf_categories_mqc.txt'
  merged_categories:
    fn: 'merged_orf_categories_mqc.txt'
  caller_counts:
    fn: 'merged_orf_caller_count_mqc.txt'
  size_distribution:
    fn: '*_size_distribution_mqc.txt'
  canonical_expression:
    fn: 'canonical_orf_counts_mqc.txt'